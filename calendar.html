<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ìŠ¤ë§ˆíŠ¸ ê·¼íƒœ ë‹¬ë ¥</title>
    <style>
        body { font-family: -apple-system, sans-serif; padding: 5px; background: #f0f2f5; margin: 0; }
        .container { max-width: 1000px; margin: 0 auto; background: white; padding: 10px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        
        /* ë‹¬ë ¥ í—¤ë” */
        .calendar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .calendar-header h2 { margin: 0; color: #333; font-size: 20px; font-weight: 800; }
        .btn-month { background: none; border: 1px solid #ddd; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 16px; color: #555; }
        
        /* ê·¸ë¦¬ë“œ */
        .calendar-grid { display: grid; grid-template-columns: 20px repeat(7, 1fr); gap: 0; border-top: 1px solid #eee; border-left: 1px solid #eee; }
        
        .header-cell { background: #f8f9fa; padding: 6px 0; font-size: 11px; font-weight: bold; border-right: 1px solid #eee; border-bottom: 1px solid #eee; color: #333; text-align: center;}
        .header-cell.sun { color: #e74c3c; } .header-cell.sat { color: #2980b9; } 
        .week-label { display: flex; align-items: center; justify-content: center; font-size: 9px; color: #bbb; background: #fdfdfd; border-right: 1px solid #eee; border-bottom: 1px solid #eee; writing-mode: vertical-lr; transform: rotate(180deg); }

        .day-cell { min-height: 70px; border-right: 1px solid #eee; border-bottom: 1px solid #eee; padding: 0; position: relative; display: flex; flex-direction: column; background: #fff; }
        .day-cell.sat { background-color: #fafbfd; } 
        .day-cell.sat .day-num { color: #2980b9; }    
        .day-cell.holiday-bg { background-color: #fdfafa !important; } 
        .day-cell.holiday-bg .day-num { color: #e74c3c !important; }
        .day-cell.today { background-color: #fff !important; box-shadow: inset 0 0 0 1px #03c75a !important; z-index: 1; }
        
        .day-header { display: flex; justify-content: space-between; padding: 2px 4px; height: 16px; align-items: center; }
        .day-num { font-weight: bold; font-size: 11px; color: #333; }
        
        /* ê³µíœ´ì¼ í‘œì‹œ (ë‚ ì§œ ì˜†) */
        .evt-holiday { font-size: 9px; font-weight: bold; color: #e74c3c; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 60%; cursor: pointer; }

        /* ì¼ì • ë§‰ëŒ€ & ìŠ¤í˜ì´ì„œ */
        .event-bar, .event-spacer { 
            height: 14px; 
            line-height: 14px; 
            margin-bottom: 1px; 
            position: relative; 
        }
        
        .event-bar {
            display: flex; align-items: center; justify-content: center;
            cursor: pointer;
            color: white; font-size: 9px; font-weight: bold; 
            z-index: 10; width: 100%; overflow: hidden;
            text-shadow: 0 0 2px rgba(0,0,0,0.3);
        }

        .evt-content {
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis; width: 98%; text-align: center; pointer-events: none;
        }

        .event-bar.is-start { border-top-left-radius: 3px; border-bottom-left-radius: 3px; margin-left: 2px; width: calc(100% - 2px); justify-content: flex-start; padding-left: 3px; }
        .event-bar.is-end { border-top-right-radius: 3px; border-bottom-right-radius: 3px; margin-right: 2px; width: calc(100% - 2px); }
        .event-bar.is-start.is-end { width: calc(100% - 4px); margin-left: 2px; margin-right: 2px; }
        
        .event-bar:not(.is-start):not(.is-end) { margin-left: -1px; margin-right: -1px; width: calc(100% + 2px); }
        .event-bar:not(.is-start).is-end { margin-left: -1px; width: calc(100% + 1px); }
        .event-bar.is-start:not(.is-end) { margin-right: -1px; width: calc(100% + 1px); }

        .evt-trip { background: #4a90e2; } .evt-vacation { background: #e74c3c; } .evt-etc { background: #f5a623; }

        /* ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .monthly-list-container { margin-top: 20px; border-top: 2px solid #eee; padding-top: 15px; }
        .list-header { font-size: 15px; font-weight: 800; color: #333; margin-bottom: 10px; display: flex; align-items: center; }
        
        .list-item { background: #fff; border-bottom: 1px solid #f1f1f1; padding: 12px 5px; display: flex; align-items: center; gap: 8px; font-size: 13px; }
        .list-item:last-child { border-bottom: none; }
        .list-date { font-size: 11px; color: #555; font-weight: bold; background: #f1f3f5; padding: 3px 6px; border-radius: 4px; white-space: nowrap; }
        .list-content-wrapper { flex: 1; display: flex; align-items: center; overflow: hidden; white-space: nowrap; }
        .list-name { font-weight: bold; color: #333; margin-right: 5px; }
        .list-reason { color: #888; font-size: 12px; overflow: hidden; text-overflow: ellipsis; }
        .list-badge { font-size: 10px; padding: 4px 6px; border-radius: 4px; color: white; font-weight: bold; white-space: nowrap; min-width: 30px; text-align: center; }
        .badge-trip { background: #4a90e2; } .badge-vacation { background: #e74c3c; } .badge-etc { background: #f5a623; }

        /* ì…ë ¥ í¼ */
        hr { border: 0; border-top: 1px solid #eee; margin: 20px 0; }
        h3 { margin: 0 0 10px 0; color: #333; font-size: 16px; }
        .form-group { margin-bottom: 10px; }
        label { display: block; margin-bottom: 3px; font-weight: bold; color: #555; font-size: 12px; }
        input { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 0; font-size: 14px; box-sizing: border-box; appearance: none; }
        .type-group { display: flex; gap: 5px; }
        .radio-label { flex: 1; text-align: center; padding: 10px 2px; border: 1px solid #ddd; cursor: pointer; background: #fff; font-size: 12px; white-space: nowrap; }
        .radio-label input { display: none; }
        input[type="radio"]:checked + span { font-weight: bold; }
        .radio-label:has(input[value="ì¶œì¥"]:checked) { background: #eaf4ff; border-color: #4a90e2; color: #4a90e2; }
        .radio-label:has(input[value="ì—°ì°¨"]:checked) { background: #ffeeee; border-color: #e74c3c; color: #e74c3c; }
        .radio-label:has(input[value="ê¸°íƒ€"]:checked) { background: #fff0f0; border-color: #c0392b; color: #c0392b; }
        .btn-submit { width: 100%; background: #03c75a; color: white; padding: 12px; border: none; border-radius: 0; font-size: 15px; font-weight: bold; cursor: pointer; margin-top: 5px; }
        .loader { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); z-index: 999; justify-content: center; align-items: center; color: white; font-size: 20px; font-weight: bold; }
    </style>
</head>
<body>

<div id="loader" class="loader">ë°ì´í„° ì²˜ë¦¬ ì¤‘...</div>

<div class="container">
    <div class="calendar-header">
        <button class="btn-month" onclick="changeMonth(-1)">â—€</button>
        <h2 id="monthTitle"></h2>
        <button class="btn-month" onclick="changeMonth(1)">â–¶</button>
    </div>
    <div class="calendar-grid" id="calendar"></div>

    <div class="monthly-list-container">
        <div class="list-header">ğŸ“‹ <span id="listMonthTitle"></span> ìƒì„¸ ì¼ì •</div>
        <div id="monthlyList"></div>
    </div>

    <hr>

    <h3>ğŸ“ ì¼ì • ë“±ë¡</h3>
    <div class="form-group"><label>ì§ì› ì´ë¦„</label><input type="text" id="name" placeholder="ì´ë¦„ ì…ë ¥"></div>
    <div class="form-group">
        <label>êµ¬ë¶„</label>
        <div class="type-group">
            <label class="radio-label"><input type="radio" name="type" value="ì¶œì¥" checked><span>âœˆï¸ ì¶œì¥</span></label>
            <label class="radio-label"><input type="radio" name="type" value="ì—°ì°¨"><span>ğŸ–ï¸ ì—°ì°¨</span></label>
            <label class="radio-label"><input type="radio" name="type" value="ê¸°íƒ€"><span>ğŸ“ ê¸°íƒ€</span></label>
        </div>
    </div>
    <div class="form-group"><label>ì‹œì‘ì¼</label><input type="date" id="startDate"></div>
    <div class="form-group"><label>ì¢…ë£Œì¼</label><input type="date" id="endDate"></div>
    <div class="form-group"><label>ìƒì„¸ ë‚´ìš©</label><input type="text" id="reason" placeholder="ëª©ì ì§€ / ì‚¬ìœ "></div>
    <button class="btn-submit" onclick="submitData()">ë“±ë¡í•˜ê¸°</button>
</div>

<script>
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxj1RhofZM8Kat7VUk-MZ9oNCgiTMn_Mi3inSWFDy-hbB1oDOCl4IpZGlcNH_gDxylQig/exec";
    const ADMIN_PASSWORD = "1234"; 

    const DEFAULT_HOLIDAYS = {
        "2025-01-01": "ì‹ ì •", "2025-01-27": "ëŒ€ì²´íœ´ì¼", "2025-01-28": "ì„¤ë‚ ", "2025-01-29": "ì„¤ë‚  ì—°íœ´", "2025-01-30": "ì„¤ë‚  ì—°íœ´",
        "2025-03-01": "ì‚¼ì¼ì ˆ", "2025-03-03": "ëŒ€ì²´íœ´ì¼", "2025-05-05": "ì–´ë¦°ì´ë‚ ", "2025-05-06": "ëŒ€ì²´íœ´ì¼", "2025-06-06": "í˜„ì¶©ì¼",
        "2025-08-15": "ê´‘ë³µì ˆ", "2025-10-03": "ê°œì²œì ˆ", "2025-10-05": "ì¶”ì„ ì—°íœ´", "2025-10-06": "ì¶”ì„", "2025-10-07": "ì¶”ì„ ì—°íœ´",
        "2025-10-08": "ëŒ€ì²´íœ´ì¼", "2025-10-09": "í•œê¸€ë‚ ", "2025-12-25": "ì„±íƒ„ì ˆ",
        "2026-01-01": "ì‹ ì •", "2026-02-16": "ì„¤ë‚  ì—°íœ´", "2026-02-17": "ì„¤ë‚ ", "2026-02-18": "ì„¤ë‚  ì—°íœ´", "2026-03-01": "ì‚¼ì¼ì ˆ",
        "2026-03-02": "ëŒ€ì²´íœ´ì¼", "2026-05-05": "ì–´ë¦°ì´ë‚ ", "2026-05-24": "ë¶€ì²˜ë‹˜ì˜¤ì‹ ë‚ ", "2026-05-25": "ëŒ€ì²´íœ´ì¼", "2026-06-03": "ì§€ë°©ì„ ê±°",
        "2026-06-06": "í˜„ì¶©ì¼", "2026-08-15": "ê´‘ë³µì ˆ", "2026-08-17": "ëŒ€ì²´íœ´ì¼", "2026-09-24": "ì¶”ì„ ì—°íœ´", "2026-09-25": "ì¶”ì„",
        "2026-09-26": "ì¶”ì„ ì—°íœ´", "2026-10-03": "ê°œì²œì ˆ", "2026-10-09": "í•œê¸€ë‚ ", "2026-12-25": "ì„±íƒ„ì ˆ"
    };

    let HOLIDAYS = DEFAULT_HOLIDAYS; 
    let currentDate = new Date(); 
    let dbEvents = []; 

    window.onload = function() {
        document.getElementById('startDate').valueAsDate = new Date();
        document.getElementById('endDate').valueAsDate = new Date();
        loadEvents(); 
    }

    function showLoader(show) { document.getElementById('loader').style.display = show ? 'flex' : 'none'; }

    function loadEvents() {
        showLoader(true);
        fetch(SCRIPT_URL + "?action=read")
        .then(res => res.json())
        .then(data => {
            let events = data.events || [];
            let uniqueEvents = [];
            let seenIds = new Set();
            events.forEach(evt => {
                let uniqueKey = evt.id ? evt.id : `${evt.name}-${evt.start}-${evt.end}`;
                if (!seenIds.has(uniqueKey)) {
                    seenIds.add(uniqueKey);
                    uniqueEvents.push(evt);
                }
            });
            dbEvents = uniqueEvents;

            if(data.holidays && data.holidays.length > 10) { try { HOLIDAYS = JSON.parse(data.holidays); } catch(e) { HOLIDAYS = DEFAULT_HOLIDAYS; } }
            renderCalendar(); 
            showLoader(false);
        })
        .catch(err => { alert("ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨"); showLoader(false); });
    }

    function getWeekNumber(d) {
        d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
        d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay()||7));
        var yearStart = new Date(Date.UTC(d.getUTCFullYear(),0,1));
        return Math.ceil(( ( (d - yearStart) / 86400000) + 1)/7);
    }

    // â˜…â˜…â˜… [PCìŠ¤íƒ€ì¼ ë¡œì§ ì ìš©] ëŠê¹€ ë°©ì§€ & ì›”ì´ˆ í…ìŠ¤íŠ¸ í‘œì‹œ â˜…â˜…â˜…
    function renderCalendar() {
        const year = currentDate.getFullYear();
        const month = currentDate.getMonth();
        const monthStr = `${year}.${String(month+1).padStart(2,'0')}`;
        
        document.getElementById('monthTitle').innerText = monthStr;
        document.getElementById('listMonthTitle').innerText = String(month+1) + "ì›”"; 

        const calendarEl = document.getElementById('calendar');
        calendarEl.innerHTML = `<div class="week-label"></div>`; 
        
        ['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '].forEach((d, idx) => {
            let className = 'header-cell'; if(idx === 0) className += ' sun'; if(idx === 6) className += ' sat'; 
            calendarEl.innerHTML += `<div class="${className}">${d}</div>`;
        });

        const firstDay = new Date(year, month, 1).getDay();
        const lastDate = new Date(year, month + 1, 0).getDate();
        let currentDay = 1;
        
        // ì£¼ ë‹¨ìœ„ ë£¨í”„ (ëŠê¹€ ë°©ì§€)
        for(let w=0; w<6; w++) {
            if (currentDay > lastDate) break;

            let currentWeekStart = new Date(year, month, currentDay - (w===0 ? firstDay : 0));
            let currentWeekEnd = new Date(currentWeekStart); currentWeekEnd.setDate(currentWeekEnd.getDate() + 6);
            
            let weekStartStr = currentWeekStart.toISOString().slice(0,10);
            let weekEndStr = currentWeekEnd.toISOString().slice(0,10);

            calendarEl.innerHTML += `<div class="week-label">W${getWeekNumber(currentWeekStart)}</div>`;

            // ì´ë²ˆ ì£¼ì— ê±¸ì¹˜ëŠ” ì¼ì •
            let eventsInWeek = dbEvents.filter(e => e.type !== 'íœ´ë¬´' && e.end >= weekStartStr && e.start <= weekEndStr);
            
            // ì •ë ¬ (ê¸´ ì¼ì • -> ì‹œì‘ì¼)
            eventsInWeek.sort((a, b) => {
                let lenA = new Date(a.end) - new Date(a.start);
                let lenB = new Date(b.end) - new Date(b.start);
                if (lenA !== lenB) return lenB - lenA; 
                return a.start.localeCompare(b.start);
            });

            // ìŠ¬ë¡¯ í• ë‹¹ (í…ŒíŠ¸ë¦¬ìŠ¤)
            let slots = Array.from({length: 7}, () => []); 
            
            eventsInWeek.forEach(evt => {
                let s = new Date(evt.start) < currentWeekStart ? currentWeekStart : new Date(evt.start);
                let e = new Date(evt.end) > currentWeekEnd ? currentWeekEnd : new Date(evt.end);
                
                let startIdx = Math.floor((s - currentWeekStart) / (1000*60*60*24));
                let endIdx = Math.floor((e - currentWeekStart) / (1000*60*60*24));
                
                let row = 0;
                while(true) {
                    let isFree = true;
                    for(let d = startIdx; d <= endIdx; d++) {
                        if (d >= 0 && d <= 6 && slots[d][row]) { isFree = false; break; }
                    }
                    if(isFree) break;
                    row++;
                }
                for(let d = startIdx; d <= endIdx; d++) {
                    if (d >= 0 && d <= 6) slots[d][row] = evt;
                }
            });

            // ë Œë”ë§
            for(let i=0; i<7; i++) {
                if((w===0 && i<firstDay) || currentDay > lastDate) {
                    calendarEl.innerHTML += `<div style="border-bottom:1px solid #eee; border-right:1px solid #eee; background:#fafafa;"></div>`;
                    if (!(w===0 && i<firstDay)) currentDay++;
                } else {
                    let dateStr = `${year}-${String(month+1).padStart(2,'0')}-${String(currentDay).padStart(2,'0')}`;
                    let isToday = (new Date().toISOString().slice(0,10) === dateStr) ? 'today' : '';
                    let holidayName = HOLIDAYS[dateStr];
                    
                    dbEvents.forEach(evt => { if(evt.type === 'íœ´ë¬´' && dateStr >= evt.start && dateStr <= evt.end) holidayName = evt.reason; });
                    
                    let bgClass = ''; let numColor = '';
                    if(i===0 || holidayName) { bgClass='holiday-bg'; numColor='style="color:#e74c3c"'; }
                    else if(i===6) { numColor='style="color:#2980b9"'; bgClass='sat'; }

                    let cellHtml = `<div class="day-cell ${bgClass} ${isToday}">
                                    <div class="day-header">
                                        <span class="day-num" ${numColor}>${currentDay}</span>
                                        ${holidayName ? `<span class="evt-holiday">${holidayName}</span>` : ''}
                                    </div>`;

                    let maxRow = 0;
                    slots[i].forEach((_, idx) => maxRow = Math.max(maxRow, idx));

                    for(let r=0; r<=maxRow; r++) {
                        let evt = slots[i][r];
                        if (evt) {
                            let colorClass = evt.type === 'ì¶œì¥' ? 'evt-trip' : (evt.type === 'ì—°ì°¨' ? 'evt-vacation' : 'evt-etc');
                            let displayText = evt.name; 

                            let isStart = (dateStr === evt.start) || (i === 0);
                            let isEnd = (dateStr === evt.end) || (i === 6);
                            
                            // â˜…â˜…â˜… [í•µì‹¬] ì›” ë³€ê²½ ì‹œ í…ìŠ¤íŠ¸ í‘œì‹œ (ë§¤ì›” 1ì¼) â˜…â˜…â˜…
                            let isMonthStart = (currentDay === 1);
                            let showText = isStart || isMonthStart;
                            if (i === 0 && dateStr > evt.start) showText = true; // ì¼ìš”ì¼ í‘œì‹œ

                            let contentHtml = showText ? `<span class="evt-content">${displayText}</span>` : "";

                            let barClass = "";
                            if(dateStr === evt.start) barClass += " is-start";
                            if(dateStr === evt.end) barClass += " is-end";

                            cellHtml += `<div class="event-bar ${colorClass} ${barClass}" onclick="askDelete('${evt.id}', '${evt.name}', '${evt.type}', '${evt.end}')">
                                            ${contentHtml}
                                         </div>`;
                        } else {
                            cellHtml += `<div class="event-spacer"></div>`;
                        }
                    }
                    
                    cellHtml += `</div>`;
                    calendarEl.innerHTML += cellHtml;
                    currentDay++;
                }
            }
        }
        
        renderMonthlyList(year, month);
    }

    function renderMonthlyList(year, month) {
        const listEl = document.getElementById('monthlyList');
        listEl.innerHTML = '';

        const monthStartStr = `${year}-${String(month+1).padStart(2,'0')}-01`;
        const lastDay = new Date(year, month+1, 0).getDate();
        const monthEndStr = `${year}-${String(month+1).padStart(2,'0')}-${lastDay}`;

        let monthlyEvents = dbEvents.filter(evt => {
            if (evt.type === 'íœ´ë¬´') return false;
            return (evt.start <= monthEndStr && evt.end >= monthStartStr);
        });

        monthlyEvents.sort((a,b) => a.start.localeCompare(b.start));

        if (monthlyEvents.length === 0) {
            listEl.innerHTML = '<div style="padding:20px; text-align:center; color:#999;">ì´ë²ˆ ë‹¬ ì˜ˆì •ëœ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
            return;
        }

        monthlyEvents.forEach(evt => {
            let badgeClass = evt.type === 'ì¶œì¥' ? 'badge-trip' : (evt.type === 'ì—°ì°¨' ? 'badge-vacation' : 'badge-etc');
            let dateText = `${evt.start.slice(5)} ~ ${evt.end.slice(5)}`;
            if(evt.start === evt.end) dateText = evt.start.slice(5);

            let html = `
            <div class="list-item" onclick="askDelete('${evt.id}', '${evt.name}', '${evt.type}', '${evt.end}')">
                <span class="list-date">${dateText}</span>
                <div class="list-content-wrapper">
                    <span class="list-name">${evt.name}</span>
                    <span class="list-reason">- ${evt.reason}</span>
                </div>
                <span class="list-badge ${badgeClass}">${evt.type}</span>
            </div>`;
            listEl.innerHTML += html;
        });
    }

    function changeMonth(delta) {
        currentDate.setMonth(currentDate.getMonth() + delta);
        renderCalendar();
    }

    function askDelete(id, name, type, endDateStr) {
        if(!id || id.startsWith('manual_') === false) return; 
        
        let today = new Date(); today.setHours(0,0,0,0);
        let eventEndDate = new Date(endDateStr);
        if (eventEndDate < today) {
            let inputPwd = prompt(`â›” ì§€ë‚œ ì¼ì •(${endDateStr})ì…ë‹ˆë‹¤.\nì‚­ì œí•˜ë ¤ë©´ ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:`);
            if (inputPwd !== ADMIN_PASSWORD) { alert("âŒ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤."); return; }
        }
        
        if(confirm(`[${type}] ${name} ì¼ì •ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
            showLoader(true);
            fetch(SCRIPT_URL, { method: "POST", mode: "no-cors", body: JSON.stringify({ action: "delete", id: id }) })
            .then(() => { alert("ğŸ—‘ï¸ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."); setTimeout(loadEvents, 1000); })
            .catch(err => { alert("ì˜¤ë¥˜"); showLoader(false); });
        }
    }

    function submitData() {
        const name = document.getElementById('name').value;
        const type = document.querySelector('input[name="type"]:checked').value;
        const startDate = document.getElementById('startDate').value;
        const endDate = document.getElementById('endDate').value;
        const reason = document.getElementById('reason').value;

        if(type !== 'íœ´ë¬´' && !name) { alert("ì´ë¦„ ì…ë ¥ í•„ìš”"); return; }
        if(!startDate || !endDate) { alert("ë‚ ì§œ ì…ë ¥ í•„ìš”"); return; }
        if(!reason) { alert("ë‚´ìš© ì…ë ¥ í•„ìš”"); return; }

        showLoader(true);
        const data = { name, type, startDate, endDate, reason };
        fetch(SCRIPT_URL, { method: "POST", mode: "no-cors", body: JSON.stringify(data) })
        .then(() => { alert("âœ… ë“±ë¡ë¨"); document.getElementById('name').value=''; document.getElementById('reason').value=''; loadEvents(); })
        .catch(err => { alert("ì˜¤ë¥˜"); showLoader(false); });
    }
</script>

</body>
</html>
